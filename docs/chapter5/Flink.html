
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>5.7 Flink · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-ancre-navigation/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../chapter6/" />
    
    
    <link rel="prev" href="Zookeeper.html" />
    

    
        <link rel="shortcut icon" href='../images/favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../images/favicon.ico' type="image/x-icon">
    
    
        <link rel="apple-touch-icon" href='../images/apple-touch-icon.png'>
    
    
        
        <link rel="apple-touch-icon" sizes="120x120" href="../images/apple-touch-icon-120x120.png">
        
        <link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon-180x180.png">
        
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../chapter1/">
            
                <a href="../chapter1/">
            
                    
                    第一章 Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../chapter1/基础命令.html">
            
                <a href="../chapter1/基础命令.html">
            
                    
                    1.1 基础命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../chapter1/SHELL.html">
            
                <a href="../chapter1/SHELL.html">
            
                    
                    1.2 SHELL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../chapter1/FAQ.html">
            
                <a href="../chapter1/FAQ.html">
            
                    
                    1.3 系统监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../chapter1/Windows.html">
            
                <a href="../chapter1/Windows.html">
            
                    
                    1.4 Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../chapter1/Ubuntu.html">
            
                <a href="../chapter1/Ubuntu.html">
            
                    
                    1.5 Ubuntu
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../chapter2/">
            
                <a href="../chapter2/">
            
                    
                    第二章 语言
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../chapter2/Python.html">
            
                <a href="../chapter2/Python.html">
            
                    
                    2.1 Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../chapter2/Java.html">
            
                <a href="../chapter2/Java.html">
            
                    
                    2.2 Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../chapter2/Go.html">
            
                <a href="../chapter2/Go.html">
            
                    
                    2.3 Go
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../chapter3/">
            
                <a href="../chapter3/">
            
                    
                    第三章 数据库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../chapter3/MySQL.html">
            
                <a href="../chapter3/MySQL.html">
            
                    
                    3.1 MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../chapter3/Redis.html">
            
                <a href="../chapter3/Redis.html">
            
                    
                    3.2 Redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../chapter4/">
            
                <a href="../chapter4/">
            
                    
                    第四章 工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../chapter4/Git.html">
            
                <a href="../chapter4/Git.html">
            
                    
                    4.1 Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../chapter4/Maven.html">
            
                <a href="../chapter4/Maven.html">
            
                    
                    4.2 Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../chapter4/IDEA.html">
            
                <a href="../chapter4/IDEA.html">
            
                    
                    4.3 IDEA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../chapter4/Nginx.html">
            
                <a href="../chapter4/Nginx.html">
            
                    
                    4.4 Nginx
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    第五章 大数据
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Kafka.html">
            
                <a href="Kafka.html">
            
                    
                    5.1 Kafka
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="ES.html">
            
                <a href="ES.html">
            
                    
                    5.2 ES
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="HDFS.html">
            
                <a href="HDFS.html">
            
                    
                    5.3 HDFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="Hive.html">
            
                <a href="Hive.html">
            
                    
                    5.4 Hive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="Flume.html">
            
                <a href="Flume.html">
            
                    
                    5.5 Flume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="Zookeeper.html">
            
                <a href="Zookeeper.html">
            
                    
                    5.6 Zookeeper
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.7" data-path="Flink.html">
            
                <a href="Flink.html">
            
                    
                    5.7 Flink
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../chapter6/">
            
                <a href="../chapter6/">
            
                    
                    第六章 教程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../chapter6/Flink 中文课程.html">
            
                <a href="../chapter6/Flink 中文课程.html">
            
                    
                    6.1 Flink 中文课程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../END.html">
            
                <a href="../END.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >5.7 Flink</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#57-flink"><b></b>5.7 Flink</a></li><ul><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;"><b></b>&#x5B89;&#x88C5;</a></li><li><span class="title-icon "></span><a href="#&#x6CE8;&#x518C;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;standalone&#x6A21;&#x5F0F;"><b></b>&#x6CE8;&#x518C;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;(standalone&#x6A21;&#x5F0F;)</a></li><ul><li><span class="title-icon "></span><a href="#&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><b></b>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x5F00;&#x673A;&#x81EA;&#x542F;"><b></b>&#x5F00;&#x673A;&#x81EA;&#x542F;</a></li></ul><li><span class="title-icon "></span><a href="#&#x542F;&#x52A8;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;"><b></b>&#x542F;&#x52A8;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;</a></li><li><span class="title-icon "></span><a href="#&#x505C;&#x6B62;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;"><b></b>&#x505C;&#x6B62;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;</a></li><li><span class="title-icon "></span><a href="#&#x914D;&#x7F6E;&#x6587;&#x4EF6;_1"><b></b>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x5927;&#x5C0F;"><b></b>&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x5927;&#x5C0F;</a></li><li><span class="title-icon "></span><a href="#&#x8BBF;&#x95EE;flink-web"><b></b>&#x8BBF;&#x95EE;Flink Web</a></li><li><span class="title-icon "></span><a href="#&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;"><b></b>&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5173;&#x4E8E;app&#x8D44;&#x6E90;&#x5206;&#x914D;"><b></b>&#x5173;&#x4E8E;App&#x8D44;&#x6E90;&#x5206;&#x914D;</a></li></ul></ul></ul></div><a href="#57-flink" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="57-flink"><a name="57-flink" class="anchor-navigation-ex-anchor" href="#57-flink"><i class="fa fa-link" aria-hidden="true"></i></a>5.7 Flink</h1>
<p>[TOC]</p>
<h2 id="&#x5B89;&#x88C5;"><a name="&#x5B89;&#x88C5;" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;</h2>
<pre><code class="lang-shell">#!/bin/bash

BASE_DIR=$(readlink -f $(dirname $0))
cd ${BASE_DIR}

INSTALL_PATH=/usr/local

tar -zxf flink-1.9.2-bin-scala_2.11.tgz
DIR=flink-1.9.2

rm -rf ${INSTALL_PATH}/flink-1.9.2
rm -rf ${INSTALL_PATH}/flink
mv ${DIR}  ${INSTALL_PATH}
chown -R root ${INSTALL_PATH}/${DIR}
chgrp -R root ${INSTALL_PATH}/${DIR}
ln -s ${INSTALL_PATH}/${DIR} ${INSTALL_PATH}/flink
</code></pre>
<h2 id="&#x6CE8;&#x518C;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;standalone&#x6A21;&#x5F0F;"><a name="&#x6CE8;&#x518C;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;standalone&#x6A21;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x6CE8;&#x518C;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;standalone&#x6A21;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6CE8;&#x518C;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;(standalone&#x6A21;&#x5F0F;)</h2>
<h3 id="&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a name="&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3>
<p><code>/usr/lib/systemd/system/flink.service</code></p>
<pre><code class="lang-properties">[Unit]
Description=Apache Flink: Stateful Computations over Data Streams
After=network.target

[Service]
Type=forking
User=root
Group=root
Restart=always
RestartSec=1
ExecStart=/usr/local/flink/bin/start-cluster.sh
ExecStop=/usr/local/flink/bin/stop-cluster.sh

[Install]
WantedBy=multi-user.target
</code></pre>
<h3 id="&#x5F00;&#x673A;&#x81EA;&#x542F;"><a name="&#x5F00;&#x673A;&#x81EA;&#x542F;" class="anchor-navigation-ex-anchor" href="#&#x5F00;&#x673A;&#x81EA;&#x542F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F00;&#x673A;&#x81EA;&#x542F;</h3>
<pre><code class="lang-bash"><span class="hljs-meta">#!/bin/bash
</span>
BASE_DIR=$(readlink <span class="hljs-_">-f</span> $(dirname <span class="hljs-variable">$0</span>))
<span class="hljs-built_in">cd</span> <span class="hljs-variable">${BASE_DIR}</span>

INSTALL_PATH=/usr/<span class="hljs-built_in">local</span>

<span class="hljs-variable">${INSTALL_PATH}</span>/kafka/bin/kafka-server-stop.sh
rm <span class="hljs-_">-f</span> /usr/lib/systemd/system/kafka.service
cp kafka.service /usr/lib/systemd/system

<span class="hljs-comment"># &#x91CD;&#x8F7D;&#x914D;&#x7F6E;</span>
systemctl daemon-reload
<span class="hljs-comment"># &#x542F;&#x7528;&#x81EA;&#x542F;</span>
systemctl <span class="hljs-built_in">enable</span> kafka.service
<span class="hljs-comment"># &#x505C;&#x6B62;</span>
systemctl stop kafka.service
<span class="hljs-comment"># &#x542F;&#x52A8;</span>
systemctl start kafka.service
</code></pre>
<h2 id="&#x542F;&#x52A8;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;"><a name="&#x542F;&#x52A8;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;" class="anchor-navigation-ex-anchor" href="#&#x542F;&#x52A8;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x542F;&#x52A8;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;</h2>
<pre><code class="lang-bash"><span class="hljs-variable">${INSTALL_PATH}</span>/flink/bin/start-cluster.sh
</code></pre>
<h2 id="&#x505C;&#x6B62;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;"><a name="&#x505C;&#x6B62;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;" class="anchor-navigation-ex-anchor" href="#&#x505C;&#x6B62;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x505C;&#x6B62;&#xFF08;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4EE3;&#x66FF;&#xFF09;</h2>
<pre><code class="lang-bash"><span class="hljs-variable">${INSTALL_PATH}</span>/flink/bin/stop-cluster.sh
</code></pre>
<h2 id="&#x914D;&#x7F6E;&#x6587;&#x4EF6;_1"><a name="&#x914D;&#x7F6E;&#x6587;&#x4EF6;_1" class="anchor-navigation-ex-anchor" href="#&#x914D;&#x7F6E;&#x6587;&#x4EF6;_1"><i class="fa fa-link" aria-hidden="true"></i></a>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h2>
<p><code>${INSTALL_PATH}/flink/conf/log4j.properties</code></p>
<pre><code class="lang-yaml"><span class="hljs-comment">################################################################################</span>
<span class="hljs-comment">#  Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="hljs-comment">#  or more contributor license agreements.  See the NOTICE file</span>
<span class="hljs-comment">#  distributed with this work for additional information</span>
<span class="hljs-comment">#  regarding copyright ownership.  The ASF licenses this file</span>
<span class="hljs-comment">#  to you under the Apache License, Version 2.0 (the</span>
<span class="hljs-comment">#  &quot;License&quot;); you may not use this file except in compliance</span>
<span class="hljs-comment">#  with the License.  You may obtain a copy of the License at</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#  Unless required by applicable law or agreed to in writing, software</span>
<span class="hljs-comment">#  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="hljs-comment">#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="hljs-comment">#  See the License for the specific language governing permissions and</span>
<span class="hljs-comment"># limitations under the License.</span>
<span class="hljs-comment">################################################################################</span>


<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># Common</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># The external address of the host on which the JobManager runs and can be</span>
<span class="hljs-comment"># reached by the TaskManagers and any clients which want to connect. This setting</span>
<span class="hljs-comment"># is only used in Standalone mode and may be overwritten on the JobManager side</span>
<span class="hljs-comment"># by specifying the --host &lt;hostname&gt; parameter of the bin/jobmanager.sh executable.</span>
<span class="hljs-comment"># In high availability mode, if you use the bin/start-cluster.sh script and setup</span>
<span class="hljs-comment"># the conf/masters file, this will be taken care of automatically. Yarn/Mesos</span>
<span class="hljs-comment"># automatically configure the host name based on the hostname of the node where the</span>
<span class="hljs-comment"># JobManager runs.</span>

jobmanager.rpc.address: localhost

<span class="hljs-comment"># The RPC port where the JobManager is reachable.</span>

jobmanager.rpc.port: <span class="hljs-number">6123</span>


<span class="hljs-comment"># The heap size for the JobManager JVM</span>

jobmanager.heap.size: <span class="hljs-number">1024</span>m


<span class="hljs-comment"># The heap size for the TaskManager JVM</span>

taskmanager.heap.size: <span class="hljs-number">1024</span>m


<span class="hljs-comment"># The number of task slots that each TaskManager offers. Each slot runs one parallel pipeline.</span>

taskmanager.numberOfTaskSlots: <span class="hljs-number">1</span>

<span class="hljs-comment"># The parallelism used for programs that did not specify and other parallelism.</span>

parallelism.default: <span class="hljs-number">1</span>

<span class="hljs-comment"># The default file system scheme and authority.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># By default file paths without scheme are interpreted relative to the local</span>
<span class="hljs-comment"># root file system &apos;file:///&apos;. Use this to override the default and interpret</span>
<span class="hljs-comment"># relative paths relative to a different file system,</span>
<span class="hljs-comment"># for example &apos;hdfs://mynamenode:12345&apos;</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># fs.default-scheme</span>

<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># High Availability</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># The high-availability mode. Possible options are &apos;NONE&apos; or &apos;zookeeper&apos;.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># high-availability: zookeeper</span>

<span class="hljs-comment"># The path where metadata for master recovery is persisted. While ZooKeeper stores</span>
<span class="hljs-comment"># the small ground truth for checkpoint and leader election, this location stores</span>
<span class="hljs-comment"># the larger objects, like persisted dataflow graphs.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Must be a durable file system that is accessible from all nodes</span>
<span class="hljs-comment"># (like HDFS, S3, Ceph, nfs, ...)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># high-availability.storageDir: hdfs:///flink/ha/</span>

<span class="hljs-comment"># The list of ZooKeeper quorum peers that coordinate the high-availability</span>
<span class="hljs-comment"># setup. This must be a list of the form:</span>
<span class="hljs-comment"># &quot;host1:clientPort,host2:clientPort,...&quot; (default clientPort: 2181)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># high-availability.zookeeper.quorum: localhost:2181</span>


<span class="hljs-comment"># ACL options are based on https://zookeeper.apache.org/doc/r3.1.2/zookeeperProgrammers.html#sc_BuiltinACLSchemes</span>
<span class="hljs-comment"># It can be either &quot;creator&quot; (ZOO_CREATE_ALL_ACL) or &quot;open&quot; (ZOO_OPEN_ACL_UNSAFE)</span>
<span class="hljs-comment"># The default value is &quot;open&quot; and it can be changed to &quot;creator&quot; if ZK security is enabled</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># high-availability.zookeeper.client.acl: open</span>

<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># Fault tolerance and checkpointing</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># The backend that will be used to store operator state checkpoints if</span>
<span class="hljs-comment"># checkpointing is enabled.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Supported backends are &apos;jobmanager&apos;, &apos;filesystem&apos;, &apos;rocksdb&apos;, or the</span>
<span class="hljs-comment"># &lt;class-name-of-factory&gt;.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># state.backend: filesystem</span>

<span class="hljs-comment"># Directory for checkpoints filesystem, when using any of the default bundled</span>
<span class="hljs-comment"># state backends.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># state.checkpoints.dir: hdfs://namenode-host:port/flink-checkpoints</span>

<span class="hljs-comment"># Default target directory for savepoints, optional.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># state.savepoints.dir: hdfs://namenode-host:port/flink-checkpoints</span>

<span class="hljs-comment"># Flag to enable/disable incremental checkpoints for backends that</span>
<span class="hljs-comment"># support incremental checkpoints (like the RocksDB state backend).</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># state.backend.incremental: false</span>

<span class="hljs-comment"># The failover strategy, i.e., how the job computation recovers from task failures.</span>
<span class="hljs-comment"># Only restart tasks that may have been affected by the task failure, which typically includes</span>
<span class="hljs-comment"># downstream tasks and potentially upstream tasks if their produced data is no longer available for consumption.</span>

jobmanager.execution.failover-strategy: region

<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># Rest &amp; web frontend</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># The port to which the REST client connects to. If rest.bind-port has</span>
<span class="hljs-comment"># not been specified, then the server will bind to this port as well.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#rest.port: 8081</span>

<span class="hljs-comment"># The address to which the REST client will connect to</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#rest.address: 0.0.0.0</span>

<span class="hljs-comment"># Port range for the REST and web server to bind to.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#rest.bind-port: 8080-8090</span>

<span class="hljs-comment"># The address that the REST &amp; web server binds to</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#rest.bind-address: 0.0.0.0</span>

<span class="hljs-comment"># Flag to specify whether job submission is enabled from the web-based</span>
<span class="hljs-comment"># runtime monitor. Uncomment to disable.</span>

<span class="hljs-comment">#web.submit.enable: false</span>

<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># Advanced</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># Override the directories for temporary files. If not specified, the</span>
<span class="hljs-comment"># system-specific Java temporary directory (java.io.tmpdir property) is taken.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># For framework setups on Yarn or Mesos, Flink will automatically pick up the</span>
<span class="hljs-comment"># containers&apos; temp directories without any need for configuration.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Add a delimited list for multiple directories, using the system directory</span>
<span class="hljs-comment"># delimiter (colon &apos;:&apos; on unix) or a comma, e.g.:</span>
<span class="hljs-comment">#     /data1/tmp:/data2/tmp:/data3/tmp</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Note: Each directory entry is read from and written to by a different I/O</span>
<span class="hljs-comment"># thread. You can include the same directory multiple times in order to create</span>
<span class="hljs-comment"># multiple I/O threads against that directory. This is for example relevant for</span>
<span class="hljs-comment"># high-throughput RAIDs.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># io.tmp.dirs: /tmp</span>

<span class="hljs-comment"># Specify whether TaskManager&apos;s managed memory should be allocated when starting</span>
<span class="hljs-comment"># up (true) or when memory is requested.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># We recommend to set this value to &apos;true&apos; only in setups for pure batch</span>
<span class="hljs-comment"># processing (DataSet API). Streaming setups currently do not use the TaskManager&apos;s</span>
<span class="hljs-comment"># managed memory: The &apos;rocksdb&apos; state backend uses RocksDB&apos;s own memory management,</span>
<span class="hljs-comment"># while the &apos;memory&apos; and &apos;filesystem&apos; backends explicitly keep data as objects</span>
<span class="hljs-comment"># to save on serialization cost.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># taskmanager.memory.preallocate: false</span>

<span class="hljs-comment"># The classloading resolve order. Possible values are &apos;child-first&apos; (Flink&apos;s default)</span>
<span class="hljs-comment"># and &apos;parent-first&apos; (Java&apos;s default).</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Child first classloading allows users to use different dependency/library</span>
<span class="hljs-comment"># versions in their application than those in the classpath. Switching back</span>
<span class="hljs-comment"># to &apos;parent-first&apos; may help with debugging dependency issues.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># classloader.resolve-order: child-first</span>

<span class="hljs-comment"># The amount of memory going to the network stack. These numbers usually need</span>
<span class="hljs-comment"># no tuning. Adjusting them may be necessary in case of an &quot;Insufficient number</span>
<span class="hljs-comment"># of network buffers&quot; error. The default min is 64MB, the default max is 1GB.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># taskmanager.network.memory.fraction: 0.1</span>
<span class="hljs-comment"># taskmanager.network.memory.min: 64mb</span>
<span class="hljs-comment"># taskmanager.network.memory.max: 1gb</span>

<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># Flink Cluster Security Configuration</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># Kerberos authentication for various components - Hadoop, ZooKeeper, and connectors -</span>
<span class="hljs-comment"># may be enabled in four steps:</span>
<span class="hljs-comment"># 1. configure the local krb5.conf file</span>
<span class="hljs-comment"># 2. provide Kerberos credentials (either a keytab or a ticket cache w/ kinit)</span>
<span class="hljs-comment"># 3. make the credentials available to various JAAS login contexts</span>
<span class="hljs-comment"># 4. configure the connector to use JAAS/SASL</span>

<span class="hljs-comment"># The below configure how Kerberos credentials are provided. A keytab will be used instead of</span>
<span class="hljs-comment"># a ticket cache if the keytab path and principal are set.</span>

<span class="hljs-comment"># security.kerberos.login.use-ticket-cache: true</span>
<span class="hljs-comment"># security.kerberos.login.keytab: /path/to/kerberos/keytab</span>
<span class="hljs-comment"># security.kerberos.login.principal: flink-user</span>

<span class="hljs-comment"># The configuration below defines which JAAS login contexts</span>

<span class="hljs-comment"># security.kerberos.login.contexts: Client,KafkaClient</span>

<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># ZK Security Configuration</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># Below configurations are applicable if ZK ensemble is configured for security</span>

<span class="hljs-comment"># Override below configuration to provide custom ZK service name if configured</span>
<span class="hljs-comment"># zookeeper.sasl.service-name: zookeeper</span>

<span class="hljs-comment"># The configuration below must match one of the values set in &quot;security.kerberos.login.contexts&quot;</span>
<span class="hljs-comment"># zookeeper.sasl.login-context-name: Client</span>

<span class="hljs-comment">#==============================================================================</span>
<span class="hljs-comment"># HistoryServer</span>
<span class="hljs-comment">#==============================================================================</span>

<span class="hljs-comment"># The HistoryServer is started and stopped via bin/historyserver.sh (start|stop)</span>

<span class="hljs-comment"># Directory to upload completed jobs to. Add this directory to the list of</span>
<span class="hljs-comment"># monitored directories of the HistoryServer as well (see below).</span>
<span class="hljs-comment">#jobmanager.archive.fs.dir: hdfs:///completed-jobs/</span>

<span class="hljs-comment"># The address under which the web-based HistoryServer listens.</span>
<span class="hljs-comment">#historyserver.web.address: 0.0.0.0</span>

<span class="hljs-comment"># The port under which the web-based HistoryServer listens.</span>
<span class="hljs-comment">#historyserver.web.port: 8082</span>

<span class="hljs-comment"># Comma separated list of directories to monitor for completed jobs.</span>
<span class="hljs-comment">#historyserver.archive.fs.dir: hdfs:///completed-jobs/</span>

<span class="hljs-comment"># Interval in milliseconds for refreshing the monitored directories.</span>
<span class="hljs-comment">#historyserver.archive.fs.refresh-interval: 10000</span>
</code></pre>
<h2 id="&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x5927;&#x5C0F;"><a name="&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x5927;&#x5C0F;" class="anchor-navigation-ex-anchor" href="#&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x5927;&#x5C0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x5927;&#x5C0F;</h2>
<p><code>${INSTALL_PATH}/flink/conf/log4j.properties</code></p>
<pre><code class="lang-bash"><span class="hljs-comment">################################################################################</span>
<span class="hljs-comment">#  Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="hljs-comment">#  or more contributor license agreements.  See the NOTICE file</span>
<span class="hljs-comment">#  distributed with this work for additional information</span>
<span class="hljs-comment">#  regarding copyright ownership.  The ASF licenses this file</span>
<span class="hljs-comment">#  to you under the Apache License, Version 2.0 (the</span>
<span class="hljs-comment">#  &quot;License&quot;); you may not use this file except in compliance</span>
<span class="hljs-comment">#  with the License.  You may obtain a copy of the License at</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#  Unless required by applicable law or agreed to in writing, software</span>
<span class="hljs-comment">#  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="hljs-comment">#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="hljs-comment">#  See the License for the specific language governing permissions and</span>
<span class="hljs-comment"># limitations under the License.</span>
<span class="hljs-comment">################################################################################</span>

<span class="hljs-comment"># This affects logging for both user code and Flink</span>
<span class="hljs-built_in">log</span>4j.rootLogger=INFO, file

<span class="hljs-comment"># Uncomment this if you want to _only_ change Flink&apos;s logging</span>
<span class="hljs-comment">#log4j.logger.org.apache.flink=INFO</span>

<span class="hljs-comment"># The following lines keep the log level of common libraries/connectors on</span>
<span class="hljs-comment"># log level INFO. The root logger does not override this. You have to manually</span>
<span class="hljs-comment"># change the log levels here.</span>
<span class="hljs-built_in">log</span>4j.logger.akka=INFO
<span class="hljs-built_in">log</span>4j.logger.org.apache.kafka=INFO
<span class="hljs-built_in">log</span>4j.logger.org.apache.hadoop=INFO
<span class="hljs-built_in">log</span>4j.logger.org.apache.zookeeper=INFO

<span class="hljs-comment"># Log all infos in the given file</span>
<span class="hljs-built_in">log</span>4j.appender.file=org.apache.log4j.RollingFileAppender
<span class="hljs-built_in">log</span>4j.appender.file.file=<span class="hljs-variable">${log.file}</span>
<span class="hljs-comment"># &#x5355;&#x4E2A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5927;&#x5C0F;</span>
<span class="hljs-built_in">log</span>4j.appender.file.MaxFileSize=128MB
<span class="hljs-comment"># &#x4FDD;&#x7559;&#x5386;&#x53F2;&#x6587;&#x4EF6;&#x4E2A;&#x6570;</span>
<span class="hljs-built_in">log</span>4j.appender.file.MaxBackupIndex=10
<span class="hljs-built_in">log</span>4j.appender.file.append=<span class="hljs-literal">true</span>
<span class="hljs-built_in">log</span>4j.appender.file.layout=org.apache.log4j.PatternLayout
<span class="hljs-built_in">log</span>4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %-60c %x - %m%n

<span class="hljs-comment"># Suppress the irrelevant (wrong) warnings from the Netty channel handler</span>
<span class="hljs-built_in">log</span>4j.logger.org.apache.flink.shaded.akka.org.jboss.netty.channel.DefaultChannelPipeline=ERROR, file
</code></pre>
<p><code>${INSTALL_PATH}/flink/conf/log4j-cli.properties</code></p>
<pre><code class="lang-bash"><span class="hljs-comment">################################################################################</span>
<span class="hljs-comment">#  Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="hljs-comment">#  or more contributor license agreements.  See the NOTICE file</span>
<span class="hljs-comment">#  distributed with this work for additional information</span>
<span class="hljs-comment">#  regarding copyright ownership.  The ASF licenses this file</span>
<span class="hljs-comment">#  to you under the Apache License, Version 2.0 (the</span>
<span class="hljs-comment">#  &quot;License&quot;); you may not use this file except in compliance</span>
<span class="hljs-comment">#  with the License.  You may obtain a copy of the License at</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#  Unless required by applicable law or agreed to in writing, software</span>
<span class="hljs-comment">#  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="hljs-comment">#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="hljs-comment">#  See the License for the specific language governing permissions and</span>
<span class="hljs-comment"># limitations under the License.</span>
<span class="hljs-comment">################################################################################</span>

<span class="hljs-built_in">log</span>4j.rootLogger=INFO, file

<span class="hljs-comment"># Log all infos in the given file</span>
<span class="hljs-built_in">log</span>4j.appender.file=org.apache.log4j.RollingFileAppender
<span class="hljs-built_in">log</span>4j.appender.file.file=<span class="hljs-variable">${log.file}</span>
<span class="hljs-comment"># &#x5355;&#x4E2A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5927;&#x5C0F;</span>
<span class="hljs-built_in">log</span>4j.appender.file.MaxFileSize=128MB
<span class="hljs-comment"># &#x4FDD;&#x7559;&#x5386;&#x53F2;&#x6587;&#x4EF6;&#x4E2A;&#x6570;</span>
<span class="hljs-built_in">log</span>4j.appender.file.MaxBackupIndex=10
<span class="hljs-built_in">log</span>4j.appender.file.append=<span class="hljs-literal">true</span>
<span class="hljs-built_in">log</span>4j.appender.file.layout=org.apache.log4j.PatternLayout
<span class="hljs-built_in">log</span>4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %-60c %x - %m%n


<span class="hljs-comment"># Log output from org.apache.flink.yarn to the console. This is used by the</span>
<span class="hljs-comment"># CliFrontend class when using a per-job YARN cluster.</span>
<span class="hljs-built_in">log</span>4j.logger.org.apache.flink.yarn=INFO, console
<span class="hljs-built_in">log</span>4j.logger.org.apache.flink.yarn.cli.FlinkYarnSessionCli=INFO, console
<span class="hljs-built_in">log</span>4j.logger.org.apache.hadoop=INFO, console

<span class="hljs-built_in">log</span>4j.appender.console=org.apache.log4j.ConsoleAppender
<span class="hljs-built_in">log</span>4j.appender.console.layout=org.apache.log4j.PatternLayout
<span class="hljs-built_in">log</span>4j.appender.console.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %-60c %x - %m%n

<span class="hljs-comment"># suppress the warning that hadoop native libraries are not loaded (irrelevant for the client)</span>
<span class="hljs-built_in">log</span>4j.logger.org.apache.hadoop.util.NativeCodeLoader=OFF

<span class="hljs-comment"># suppress the irrelevant (wrong) warnings from the netty channel handler</span>
<span class="hljs-built_in">log</span>4j.logger.org.apache.flink.shaded.akka.org.jboss.netty.channel.DefaultChannelPipeline=ERROR, file
</code></pre>
<h2 id="&#x8BBF;&#x95EE;flink-web"><a name="&#x8BBF;&#x95EE;flink-web" class="anchor-navigation-ex-anchor" href="#&#x8BBF;&#x95EE;flink-web"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BBF;&#x95EE;<code>Flink Web</code></h2>
<p><a href="http://localhost:8081" target="_blank">http://localhost:8081</a></p>
<h2 id="&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;"><a name="&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;" class="anchor-navigation-ex-anchor" href="#&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;</h2>
<pre><code class="lang-bash">./flink &lt;ACTION&gt; [OPTIONS] [ARGUMENTS]

The following actions are available:

Action <span class="hljs-string">&quot;run&quot;</span> compiles and runs a program.

  Syntax: run [OPTIONS] &lt;jar-file&gt; &lt;arguments&gt;
  <span class="hljs-string">&quot;run&quot;</span> action options:
     -c,--class &lt;classname&gt;               Class with the program entry point
                                          (<span class="hljs-string">&quot;main()&quot;</span> method or <span class="hljs-string">&quot;getPlan()&quot;</span> method).
                                          Only needed <span class="hljs-keyword">if</span> the JAR file does not
                                          specify the class <span class="hljs-keyword">in</span> its manifest.
     -C,--classpath &lt;url&gt;                 Adds a URL to each user code
                                          classloader  on all nodes <span class="hljs-keyword">in</span> the
                                          cluster. The paths must specify a
                                          protocol (e.g. file://) and be
                                          accessible on all nodes (e.g. by means
                                          of a NFS share). You can use this
                                          option multiple <span class="hljs-built_in">times</span> <span class="hljs-keyword">for</span> specifying
                                          more than one URL. The protocol must
                                          be supported by the {@link
                                          java.net.URLClassLoader}.
     <span class="hljs-_">-d</span>,--detached                        If present, runs the job <span class="hljs-keyword">in</span> detached
                                          mode
     -n,--allowNonRestoredState           Allow to skip savepoint state that
                                          cannot be restored. You need to allow
                                          this <span class="hljs-keyword">if</span> you removed an operator from
                                          your program that was part of the
                                          program when the savepoint was
                                          triggered.
     -p,--parallelism &lt;parallelism&gt;       The parallelism with <span class="hljs-built_in">which</span> to run the
                                          program. Optional flag to override the
                                          default value specified <span class="hljs-keyword">in</span> the
                                          configuration.
     -py,--python &lt;python-file&gt;           &#x6307;&#x5B9A;Python&#x4F5C;&#x4E1A;&#x7684;&#x5165;&#x53E3;&#xFF0C;&#x4F9D;&#x8D56;&#x7684;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;
                                          `--pyFiles`&#x8FDB;&#x884C;&#x6307;&#x5B9A;&#x3002;
     -pyfs,--pyFiles &lt;python-files&gt;       &#x6307;&#x5B9A;Python&#x4F5C;&#x4E1A;&#x4F9D;&#x8D56;&#x7684;&#x4E00;&#x4E9B;&#x81EA;&#x5B9A;&#x4E49;&#x7684;python&#x6587;&#x4EF6;&#xFF0C;
                                          &#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9017;&#x53F7;(,)&#x8FDB;&#x884C;&#x5206;&#x9694;&#x3002;&#x652F;&#x6301;
                                          &#x5E38;&#x7528;&#x7684;python&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x4F8B;&#x5982;(.py/.egg/.zip)&#x3002;
                                          (&#x4F8B;&#x5982;:--pyFiles file:///tmp/myresource.zip
                                          ,hdfs:///<span class="hljs-variable">$namenode_address</span>/myresource2.zip)
     -pym,--pyModule &lt;python-module&gt;      &#x6307;&#x5B9A;python&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x7684;&#x6A21;&#x5757;&#x5165;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5FC5;&#x987B;&#x914D;&#x5408;
                                          `--pyFiles`&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;
     -q,--sysoutLogging                   If present, suppress logging output to
                                          standard out.
     <span class="hljs-_">-s</span>,--fromSavepoint &lt;savepointPath&gt;   Path to a savepoint to restore the job
                                          from (<span class="hljs-keyword">for</span> example
                                          hdfs:///flink/savepoint-1537).
     -sae,--shutdownOnAttachedExit        If the job is submitted <span class="hljs-keyword">in</span> attached
                                          mode, perform a best-effort cluster
                                          shutdown when the CLI is terminated
                                          abruptly, e.g., <span class="hljs-keyword">in</span> response to a user
                                          interrupt, such as typing Ctrl + C.
  Options <span class="hljs-keyword">for</span> yarn-cluster mode:
     <span class="hljs-_">-d</span>,--detached                        If present, runs the job <span class="hljs-keyword">in</span> detached
                                          mode
     -m,--jobmanager &lt;arg&gt;                Address of the JobManager (master) to
                                          <span class="hljs-built_in">which</span> to connect. Use this flag to
                                          connect to a different JobManager than
                                          the one specified <span class="hljs-keyword">in</span> the
                                          configuration.
     -sae,--shutdownOnAttachedExit        If the job is submitted <span class="hljs-keyword">in</span> attached
                                          mode, perform a best-effort cluster
                                          shutdown when the CLI is terminated
                                          abruptly, e.g., <span class="hljs-keyword">in</span> response to a user
                                          interrupt, such as typing Ctrl + C.
     -yat,--yarnapplicationType &lt;arg&gt;     Set a custom application <span class="hljs-built_in">type</span> <span class="hljs-keyword">for</span> the
                                          application on YARN
     -yD &lt;property=value&gt;                 use value <span class="hljs-keyword">for</span> given property
     -yd,--yarndetached                   If present, runs the job <span class="hljs-keyword">in</span> detached
                                          mode (deprecated; use non-YARN
                                          specific option instead)
     -yh,--yarnhelp                       Help <span class="hljs-keyword">for</span> the Yarn session CLI.
     -yid,--yarnapplicationId &lt;arg&gt;       Attach to running YARN session
     -yj,--yarnjar &lt;arg&gt;                  Path to Flink jar file
     -yjm,--yarnjobManagerMemory &lt;arg&gt;    Memory <span class="hljs-keyword">for</span> JobManager Container
                                          with optional unit (default: MB)
     -yn,--yarncontainer &lt;arg&gt;            Number of YARN container to allocate
                                          (=Number of Task Managers)
     -ynm,--yarnname &lt;arg&gt;                Set a custom name <span class="hljs-keyword">for</span> the application
                                          on YARN
     -yq,--yarnquery                      Display available YARN resources
                                          (memory, cores)
     -yqu,--yarnqueue &lt;arg&gt;               Specify YARN queue.
     -ys,--yarnslots &lt;arg&gt;                Number of slots per TaskManager
     -yst,--yarnstreaming                 Start Flink <span class="hljs-keyword">in</span> streaming mode
     -yt,--yarnship &lt;arg&gt;                 Ship files <span class="hljs-keyword">in</span> the specified directory
                                          (t <span class="hljs-keyword">for</span> transfer), multiple options are
                                          supported.
     -ytm,--yarntaskManagerMemory &lt;arg&gt;   Memory per TaskManager Container
                                          with optional unit (default: MB)
     -yz,--yarnzookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper
                                          sub-paths <span class="hljs-keyword">for</span> high availability mode
     -ynl,--yarnnodeLabel &lt;arg&gt;           Specify YARN node label <span class="hljs-keyword">for</span>
                                          the YARN application
     -z,--zookeeperNamespace &lt;arg&gt;        Namespace to create the Zookeeper
                                          sub-paths <span class="hljs-keyword">for</span> high availability mode

  Options <span class="hljs-keyword">for</span> default mode:
     -m,--jobmanager &lt;arg&gt;           Address of the JobManager (master) to <span class="hljs-built_in">which</span>
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="hljs-keyword">in</span> the configuration.
     -z,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="hljs-keyword">for</span> high availability mode



Action <span class="hljs-string">&quot;info&quot;</span> shows the optimized execution plan of the program (JSON).

  Syntax: info [OPTIONS] &lt;jar-file&gt; &lt;arguments&gt;
  <span class="hljs-string">&quot;info&quot;</span> action options:
     -c,--class &lt;classname&gt;           Class with the program entry point (<span class="hljs-string">&quot;main()&quot;</span>
                                      method or <span class="hljs-string">&quot;getPlan()&quot;</span> method). Only needed
                                      <span class="hljs-keyword">if</span> the JAR file does not specify the class
                                      <span class="hljs-keyword">in</span> its manifest.
     -p,--parallelism &lt;parallelism&gt;   The parallelism with <span class="hljs-built_in">which</span> to run the
                                      program. Optional flag to override the
                                      default value specified <span class="hljs-keyword">in</span> the
                                      configuration.


Action <span class="hljs-string">&quot;list&quot;</span> lists running and scheduled programs.

  Syntax: list [OPTIONS]
  <span class="hljs-string">&quot;list&quot;</span> action options:
     -r,--running     Show only running programs and their JobIDs
     <span class="hljs-_">-s</span>,--scheduled   Show only scheduled programs and their JobIDs
  Options <span class="hljs-keyword">for</span> yarn-cluster mode:
     -m,--jobmanager &lt;arg&gt;            Address of the JobManager (master) to
                                      <span class="hljs-built_in">which</span> to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="hljs-keyword">in</span> the configuration.
     -yid,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     -z,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="hljs-keyword">for</span> high availability mode

  Options <span class="hljs-keyword">for</span> default mode:
     -m,--jobmanager &lt;arg&gt;           Address of the JobManager (master) to <span class="hljs-built_in">which</span>
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="hljs-keyword">in</span> the configuration.
     -z,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="hljs-keyword">for</span> high availability mode



Action <span class="hljs-string">&quot;stop&quot;</span> stops a running program with a savepoint (streaming <span class="hljs-built_in">jobs</span> only).

  Syntax: stop [OPTIONS] &lt;Job ID&gt;
  <span class="hljs-string">&quot;stop&quot;</span> action options:
     <span class="hljs-_">-d</span>,--drain                           Send MAX_WATERMARK before taking the
                                          savepoint and stopping the pipelne.
     -p,--savepointPath &lt;savepointPath&gt;   Path to the savepoint (<span class="hljs-keyword">for</span> example
                                          hdfs:///flink/savepoint-1537). If no
                                          directory is specified, the configured
                                          default will be used
                                          (<span class="hljs-string">&quot;state.savepoints.dir&quot;</span>).
  Options <span class="hljs-keyword">for</span> yarn-cluster mode:
     -m,--jobmanager &lt;arg&gt;            Address of the JobManager (master) to
                                      <span class="hljs-built_in">which</span> to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="hljs-keyword">in</span> the configuration.
     -yid,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     -z,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="hljs-keyword">for</span> high availability mode

  Options <span class="hljs-keyword">for</span> default mode:
     -m,--jobmanager &lt;arg&gt;           Address of the JobManager (master) to <span class="hljs-built_in">which</span>
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="hljs-keyword">in</span> the configuration.
     -z,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="hljs-keyword">for</span> high availability mode



Action <span class="hljs-string">&quot;cancel&quot;</span> cancels a running program.

  Syntax: cancel [OPTIONS] &lt;Job ID&gt;
  <span class="hljs-string">&quot;cancel&quot;</span> action options:
     <span class="hljs-_">-s</span>,--withSavepoint &lt;targetDirectory&gt;   **DEPRECATION WARNING**: Cancelling
                                            a job with savepoint is deprecated.
                                            Use <span class="hljs-string">&quot;stop&quot;</span> instead.
                                            Trigger savepoint and cancel job.
                                            The target directory is optional. If
                                            no directory is specified, the
                                            configured default directory
                                            (state.savepoints.dir) is used.
  Options <span class="hljs-keyword">for</span> yarn-cluster mode:
     -m,--jobmanager &lt;arg&gt;            Address of the JobManager (master) to
                                      <span class="hljs-built_in">which</span> to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="hljs-keyword">in</span> the configuration.
     -yid,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     -z,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="hljs-keyword">for</span> high availability mode

  Options <span class="hljs-keyword">for</span> default mode:
     -m,--jobmanager &lt;arg&gt;           Address of the JobManager (master) to <span class="hljs-built_in">which</span>
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="hljs-keyword">in</span> the configuration.
     -z,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="hljs-keyword">for</span> high availability mode



Action <span class="hljs-string">&quot;savepoint&quot;</span> triggers savepoints <span class="hljs-keyword">for</span> a running job or disposes existing ones.

  Syntax: savepoint [OPTIONS] &lt;Job ID&gt; [&lt;target directory&gt;]
  <span class="hljs-string">&quot;savepoint&quot;</span> action options:
     <span class="hljs-_">-d</span>,--dispose &lt;arg&gt;       Path of savepoint to dispose.
     -j,--jarfile &lt;jarfile&gt;   Flink program JAR file.
  Options <span class="hljs-keyword">for</span> yarn-cluster mode:
     -m,--jobmanager &lt;arg&gt;            Address of the JobManager (master) to
                                      <span class="hljs-built_in">which</span> to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="hljs-keyword">in</span> the configuration.
     -yid,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     -z,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="hljs-keyword">for</span> high availability mode

  Options <span class="hljs-keyword">for</span> default mode:
     -m,--jobmanager &lt;arg&gt;           Address of the JobManager (master) to <span class="hljs-built_in">which</span>
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="hljs-keyword">in</span> the configuration.
     -z,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="hljs-keyword">for</span> high availability mode
</code></pre>
<h3 id="&#x5173;&#x4E8E;app&#x8D44;&#x6E90;&#x5206;&#x914D;"><a name="&#x5173;&#x4E8E;app&#x8D44;&#x6E90;&#x5206;&#x914D;" class="anchor-navigation-ex-anchor" href="#&#x5173;&#x4E8E;app&#x8D44;&#x6E90;&#x5206;&#x914D;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5173;&#x4E8E;<code>App</code>&#x8D44;&#x6E90;&#x5206;&#x914D;</h3>
<p>&#x4F7F;&#x7528;<code>yarn-cluster</code>&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>yjm</code>&#x548C;<code>ytm</code>&#x53C2;&#x6570;&#x6307;&#x5B9A;<code>yarnjobManagerMemory</code>&#x3001;<code>yarntaskManagerMemory</code>&#x5185;&#x5B58;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x673A;&#x96C6;&#x7FA4;&#x6A21;&#x5F0F;&#x4E0D;&#x80FD;&#x5728;&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;&#x65F6;&#x6307;&#x5B9A;&#xFF08;&#x56E0;&#x4E3A;&#x5728;&#x542F;&#x52A8;flink&#x65F6;&#xFF0C;&#x5DF2;&#x7ECF;&#x5728;<code>flink-conf.yaml</code>&#x91CC;&#x5206;&#x914D;&#x4E86;&#x8FD9;&#x4E24;&#x5185;&#x5B58;&#xFF09;&#x3002; </p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; dalongm.top 2020 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#xFF1A;
2020-06-01 10:10:04
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Zookeeper.html" class="navigation navigation-prev " aria-label="Previous page: 5.6 Zookeeper">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../chapter6/" class="navigation navigation-next " aria-label="Next page: 第六章 教程">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"5.7 Flink","level":"1.6.7","depth":2,"next":{"title":"第六章 教程","level":"1.7","depth":1,"path":"chapter6/README.md","ref":"chapter6/README.md","articles":[{"title":"6.1 Flink 中文课程","level":"1.7.1","depth":2,"path":"chapter6/Flink 中文课程.md","ref":"chapter6/Flink 中文课程.md","articles":[]}]},"previous":{"title":"5.6 Zookeeper","level":"1.6.6","depth":2,"path":"chapter5/Zookeeper.md","ref":"chapter5/Zookeeper.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["github","theme-comscore","chapter-fold","code","-search","-lunr","search-pro","-sharing","sharing-plus","tbfed-pagefooter","simple-page-toc","ancre-navigation","pageview-count","favicon"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy dalongm.top 2020","modify_label":"修改时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"github":{"url":"https://github.com/dalongm"},"simple-page-toc":{"maxDepth":3,"skipFirstH1":true},"search-pro":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"favicon":{"shortcut":"images/favicon.ico","bookmark":"images/favicon.ico","appleTouch":"images/apple-touch-icon.png","appleTouchMore":{"120x120":"images/apple-touch-icon-120x120.png","180x180":"images/apple-touch-icon-180x180.png"}},"theme-comscore":{},"pageview-count":{},"ancre-navigation":{"associatedWithSummary":true,"float":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showLevel":true},"sharing":{"qq":false,"all":["weibo","qzone","douban","facebook","google","instapaper","linkedin","messenger","qq","viber","whatsapp"],"douban":false,"facebook":false,"weibo":true,"twitter":false,"pocket":false,"google":false,"qzone":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"chapter5/Flink.md","mtime":"2020-06-01T02:10:04.667Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-06-01T06:08:25.289Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

